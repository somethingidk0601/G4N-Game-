[gd_scene load_steps=6 format=3 uid="uid://c1nnab5mdttld"]

[ext_resource type="PackedScene" uid="uid://i6w6fv1vhw4" path="res://Gun.tscn" id="2_ev0ym"]
[ext_resource type="Texture2D" uid="uid://e1n5udgocjqu" path="res://icon.svg" id="2_wm02w"]

[sub_resource type="GDScript" id="GDScript_yikqd"]
script/source = "extends CharacterBody2D

@export var speed = 500

func get_input():
	var input_direction = Input.get_vector(\"Left\",\"Right\",\"Forward\",\"Down\")
	velocity = input_direction * speed 
	
func _physics_process(delta):
	get_input()
	move_and_slide()	
"

[sub_resource type="GDScript" id="GDScript_cyvwo"]
script/source = "extends CharacterBody2D

@export var speed = 500
@onready var gun = $Gun

var direction = Vector2.ZERO

func get_input():
	var input_direction = Input.get_vector(\"Left\",\"Right\",\"Forward\",\"Down\")
	velocity = input_direction * speed 
	
func _physics_process(delta):
	if Input.is_action_just_pressed(\"attack\"):
		gun.shoot()
	if direction != Vector2.ZERO:
		gun.setup_direction(direction)
		
	get_input()
	move_and_slide()	
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ywxe5"]
size = Vector2(155.207, 137)

[node name="CharacterBody2D" type="CharacterBody2D"]
script = SubResource("GDScript_yikqd")

[node name="CharacterBody2D" type="CharacterBody2D" parent="."]
script = SubResource("GDScript_cyvwo")

[node name="Sprite2D" type="Sprite2D" parent="CharacterBody2D"]
position = Vector2(-0.375, 3.8147e-06)
scale = Vector2(0.275391, 0.265625)
texture = ExtResource("2_wm02w")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D"]
position = Vector2(-0.332031, -0.124996)
scale = Vector2(0.226563, 0.25)
shape = SubResource("RectangleShape2D_ywxe5")

[node name="Gun" parent="CharacterBody2D" instance=ExtResource("2_ev0ym")]
